const _0x4ed712=_0x5476;(function(_0x1a9977,_0x2c4f5b){const _0x543552=_0x5476,_0x5920fd=_0x1a9977();while(!![]){try{const _0x4691e8=parseInt(_0x543552(0x16f))/0x1+-parseInt(_0x543552(0x1d6))/0x2*(parseInt(_0x543552(0x175))/0x3)+parseInt(_0x543552(0x14e))/0x4*(parseInt(_0x543552(0x126))/0x5)+parseInt(_0x543552(0x1aa))/0x6*(-parseInt(_0x543552(0x182))/0x7)+-parseInt(_0x543552(0x217))/0x8*(-parseInt(_0x543552(0x20c))/0x9)+parseInt(_0x543552(0x22b))/0xa*(-parseInt(_0x543552(0x13b))/0xb)+parseInt(_0x543552(0x232))/0xc*(parseInt(_0x543552(0x12a))/0xd);if(_0x4691e8===_0x2c4f5b)break;else _0x5920fd['push'](_0x5920fd['shift']());}catch(_0x67b1a4){_0x5920fd['push'](_0x5920fd['shift']());}}}(_0x5237,0x6efd9));const _0x283db0=(function(){let _0x3d01d8=!![];return function(_0x1b0a43,_0x50f699){const _0x2d95a5=_0x3d01d8?function(){if(_0x50f699){const _0x4bf423=_0x50f699['apply'](_0x1b0a43,arguments);return _0x50f699=null,_0x4bf423;}}:function(){};return _0x3d01d8=![],_0x2d95a5;};}()),_0x31fc30=_0x283db0(this,function(){const _0x36583d=_0x5476;let _0x302aa5;try{const _0x2e0bd3=Function(_0x36583d(0x12d)+_0x36583d(0x1a3)+(_0x36583d(0x149)+_0x36583d(0x1f9)+_0x36583d(0x190)+'\x20)')+');');_0x302aa5=_0x2e0bd3();}catch(_0x41442c){_0x302aa5=window;}const _0x58ad1a=_0x302aa5[_0x36583d(0x125)]=_0x302aa5[_0x36583d(0x125)]||{},_0x163ee6=[_0x36583d(0x19a),_0x36583d(0x15f),_0x36583d(0x1b2),'error',_0x36583d(0x1dd),'table',_0x36583d(0x130)];for(let _0x28852b=0x0;_0x28852b<_0x163ee6['length'];_0x28852b++){const _0x4cbd9f=_0x283db0[_0x36583d(0x18e)+'r']['prototype'][_0x36583d(0x1ad)](_0x283db0),_0x2a3ead=_0x163ee6[_0x28852b],_0x2b9900=_0x58ad1a[_0x2a3ead]||_0x4cbd9f;_0x4cbd9f[_0x36583d(0x206)]=_0x283db0[_0x36583d(0x1ad)](_0x283db0),_0x4cbd9f[_0x36583d(0x1d0)]=_0x2b9900[_0x36583d(0x1d0)][_0x36583d(0x1ad)](_0x2b9900),_0x58ad1a[_0x2a3ead]=_0x4cbd9f;}});_0x31fc30();import{_,jinja2}from'assets://js/lib/cat.js';import*as _0x4c5aa8 from'./utils.js';class User{constructor(){const _0x16ed2b=_0x5476;this[_0x16ed2b(0x225)]='',this[_0x16ed2b(0x1bf)]='',this['tokenType']='',this[_0x16ed2b(0x155)+'n']='',this['refreshTok'+'en']='',this['expiresIn']=0x0,this[_0x16ed2b(0x167)+_0x16ed2b(0x1a8)]=0x0;}static['objectFrom'](_0x1f02a8){const _0x4f6e4e=_0x5476;if(_[_0x4f6e4e(0x219)](_0x1f02a8))return new User();let _0x269cdf=JSON[_0x4f6e4e(0x11b)](_0x1f02a8),_0x59e318=new User();_0x59e318['driveId']=_0x269cdf[_0x4f6e4e(0x20d)+_0x4f6e4e(0x24f)],_0x59e318[_0x4f6e4e(0x1bf)]=_0x269cdf[_0x4f6e4e(0x21f)],_0x59e318[_0x4f6e4e(0x168)]=_0x269cdf[_0x4f6e4e(0x1cf)],_0x59e318[_0x4f6e4e(0x155)+'n']=_0x269cdf[_0x4f6e4e(0x181)+'en'],_0x59e318[_0x4f6e4e(0x24a)+'en']=_0x269cdf[_0x4f6e4e(0x118)+_0x4f6e4e(0x193)],_0x59e318[_0x4f6e4e(0x23e)]=_0x269cdf[_0x4f6e4e(0x253)];if(typeof _0x269cdf[_0x4f6e4e(0x1b3)+_0x4f6e4e(0x222)]==_0x4f6e4e(0x218)){let _0x3d2cce=new Date()['getTime']()/0x3e8;_0x59e318['expiresTim'+_0x4f6e4e(0x1a8)]=_0x3d2cce+_0x59e318['expiresIn'];}else _0x59e318[_0x4f6e4e(0x167)+_0x4f6e4e(0x1a8)]=_0x269cdf[_0x4f6e4e(0x1b3)+'mestamp'];return _0x59e318;}['getDriveId'](){const _0x349644=_0x5476;return _[_0x349644(0x219)](this['driveId'])?'':this[_0x349644(0x225)];}[_0x4ed712(0x1f6)](){const _0x59c3cc=_0x4ed712;return _[_0x59c3cc(0x219)](this[_0x59c3cc(0x1bf)])?'':this[_0x59c3cc(0x1bf)];}['getTokenTy'+'pe'](){const _0x3c55b0=_0x4ed712;return _[_0x3c55b0(0x219)](this[_0x3c55b0(0x168)])?'':this[_0x3c55b0(0x168)];}[_0x4ed712(0x251)+'oken'](){const _0xe07275=_0x4ed712;return _[_0xe07275(0x219)](this[_0xe07275(0x155)+'n'])?'':this[_0xe07275(0x155)+'n'];}[_0x4ed712(0x202)+_0x4ed712(0x1ec)](){const _0x4c5ef4=_0x4ed712;return _[_0x4c5ef4(0x219)](this[_0x4c5ef4(0x24a)+'en'])?'':this[_0x4c5ef4(0x24a)+'en'];}[_0x4ed712(0x234)+_0x4ed712(0x1ec)](_0x3e6f6e){const _0x3e4e88=_0x4ed712;this[_0x3e4e88(0x24a)+'en']=_0x3e6f6e;}[_0x4ed712(0x177)+_0x4ed712(0x1ba)](){const _0x4cbd16=_0x4ed712;return this[_0x4cbd16(0x143)+'pe']()+'\x20'+this['getAccessT'+_0x4cbd16(0x128)]();}['isAuthed'](){const _0x384597=_0x4ed712;return this[_0x384597(0x143)+'pe']()['length']>0x0&&this[_0x384597(0x251)+_0x384597(0x128)]()[_0x384597(0x210)]>0x0;}[_0x4ed712(0x230)](){const _0x1450d1=_0x4ed712;let _0x4cc7e8=new Date()['getTime']()/0x3e8;return _0x4cc7e8>this['expiresTim'+_0x1450d1(0x1a8)]-0x5;}[_0x4ed712(0x258)](){const _0x42fe0f=_0x4ed712;return this[_0x42fe0f(0x24a)+'en']='',this['accessToke'+'n']='',this[_0x42fe0f(0x23e)]=0x0,this[_0x42fe0f(0x167)+_0x42fe0f(0x1a8)]=0x0,this;}async[_0x4ed712(0x24c)](){const _0x4d5382=_0x4ed712;return await local[_0x4d5382(0x16e)](_0x4d5382(0x1fd),'aliyundriv'+_0x4d5382(0x241),this[_0x4d5382(0x1d0)]()),this;}[_0x4ed712(0x1d0)](){const _0x48ae0b=_0x4ed712;var _0x232f13={'default_drive_id':this[_0x48ae0b(0x1f3)](),'user_id':this[_0x48ae0b(0x1f6)](),'token_type':this[_0x48ae0b(0x143)+'pe'](),'access_token':this[_0x48ae0b(0x251)+_0x48ae0b(0x128)](),'refresh_token':this[_0x48ae0b(0x202)+_0x48ae0b(0x1ec)](),'expires_in':this[_0x48ae0b(0x23e)],'expires_timestamp':this[_0x48ae0b(0x167)+_0x48ae0b(0x1a8)]};return JSON[_0x48ae0b(0x1e8)](_0x232f13);}}class OAuth{constructor(){const _0x1fa14b=_0x4ed712;this[_0x1fa14b(0x168)]='',this[_0x1fa14b(0x155)+'n']='',this[_0x1fa14b(0x24a)+'en']='',this[_0x1fa14b(0x23e)]=0x0,this[_0x1fa14b(0x167)+_0x1fa14b(0x1a8)]=0x0;}static['objectFrom'](_0x5cf231){const _0x4a4ad4=_0x4ed712;if(_[_0x4a4ad4(0x219)](_0x5cf231))return new OAuth();let _0x44afe2=JSON[_0x4a4ad4(0x11b)](_0x5cf231),_0x3831d2=new OAuth();_0x3831d2[_0x4a4ad4(0x168)]=_0x44afe2[_0x4a4ad4(0x1cf)],_0x3831d2[_0x4a4ad4(0x155)+'n']=_0x44afe2[_0x4a4ad4(0x181)+'en'],_0x3831d2[_0x4a4ad4(0x24a)+'en']=_0x44afe2[_0x4a4ad4(0x118)+_0x4a4ad4(0x193)],_0x3831d2['expiresIn']=_0x44afe2[_0x4a4ad4(0x253)];if(typeof _0x44afe2[_0x4a4ad4(0x1b3)+_0x4a4ad4(0x222)]==_0x4a4ad4(0x218)){let _0x3cfc63=new Date()[_0x4a4ad4(0x1d2)]()/0x3e8;_0x3831d2[_0x4a4ad4(0x167)+_0x4a4ad4(0x1a8)]=_0x3cfc63+_0x3831d2[_0x4a4ad4(0x23e)];}else _0x3831d2[_0x4a4ad4(0x167)+_0x4a4ad4(0x1a8)]=_0x44afe2['expires_ti'+'mestamp'];return _0x3831d2;}['getTokenTy'+'pe'](){const _0x38ea92=_0x4ed712;return _[_0x38ea92(0x219)](this[_0x38ea92(0x168)])?'':this[_0x38ea92(0x168)];}[_0x4ed712(0x251)+_0x4ed712(0x128)](){const _0x35f859=_0x4ed712;return _[_0x35f859(0x219)](this[_0x35f859(0x155)+'n'])?'':this[_0x35f859(0x155)+'n'];}[_0x4ed712(0x202)+_0x4ed712(0x1ec)](){const _0x989f34=_0x4ed712;return _[_0x989f34(0x219)](this[_0x989f34(0x24a)+'en'])?'':this[_0x989f34(0x24a)+'en'];}[_0x4ed712(0x177)+'zation'](){const _0x1504e1=_0x4ed712;return this['getTokenTy'+'pe']()+'\x20'+this[_0x1504e1(0x251)+'oken']();}['isAuthed'](){const _0x72cefe=_0x4ed712;return this[_0x72cefe(0x143)+'pe']()[_0x72cefe(0x210)]>0x0&&this['getAccessT'+_0x72cefe(0x128)]()[_0x72cefe(0x210)]>0x0;}[_0x4ed712(0x230)](){const _0x3c1736=_0x4ed712;let _0x42bd8c=new Date()[_0x3c1736(0x1d2)]()/0x3e8;return _0x42bd8c>this[_0x3c1736(0x167)+_0x3c1736(0x1a8)]-0x5;}['clean'](){const _0x21d6ba=_0x4ed712;return this[_0x21d6ba(0x24a)+'en']='',this[_0x21d6ba(0x155)+'n']='',this['expiresIn']=0x0,this[_0x21d6ba(0x167)+_0x21d6ba(0x1a8)]=0x0,this;}async[_0x4ed712(0x24c)](){const _0x28e5c3=_0x4ed712;return await local[_0x28e5c3(0x16e)](_0x28e5c3(0x1fd),_0x28e5c3(0x1c6)+_0x28e5c3(0x228),this['toString']()),this;}[_0x4ed712(0x1d0)](){const _0x1601ad=_0x4ed712;var _0x408052={'token_type':this[_0x1601ad(0x143)+'pe'](),'access_token':this['getAccessT'+_0x1601ad(0x128)](),'refresh_token':this[_0x1601ad(0x202)+_0x1601ad(0x1ec)](),'expires_in':this[_0x1601ad(0x23e)],'expires_timestamp':this[_0x1601ad(0x167)+_0x1601ad(0x1a8)]};return JSON[_0x1601ad(0x1e8)](_0x408052);}}class Code{constructor(){const _0x42a621=_0x4ed712;this[_0x42a621(0x244)+'i']='';}static[_0x4ed712(0x1e9)](_0x5459f6){const _0x20c0b0=_0x4ed712;if(_[_0x20c0b0(0x219)](_0x5459f6))return new Code();let _0x43e301=JSON[_0x20c0b0(0x11b)](_0x5459f6),_0x4112c2=new Code();return _0x4112c2[_0x20c0b0(0x244)+'i']=_0x43e301['redirectUr'+'i'],_0x4112c2;}[_0x4ed712(0x239)+_0x4ed712(0x252)](){const _0x2af86e=_0x4ed712;return _[_0x2af86e(0x219)](this[_0x2af86e(0x244)+'i'])?'':this['redirectUr'+'i'];}['getCode'](){const _0x9b3592=_0x4ed712;return this[_0x9b3592(0x239)+_0x9b3592(0x252)]()[_0x9b3592(0x13f)](_0x9b3592(0x1db))[0x1];}}class Item{constructor(_0x582bdd){const _0x4a52ab=_0x4ed712;this[_0x4a52ab(0x18b)]=[],this[_0x4a52ab(0x165)]='',this['fileId']=_0x582bdd,this[_0x4a52ab(0x184)]='',this[_0x4a52ab(0x138)]='',this['type']='',this[_0x4a52ab(0x19d)+'ion']='',this[_0x4a52ab(0x254)]='',this[_0x4a52ab(0x1de)]='',this[_0x4a52ab(0x17b)]='';}static[_0x4ed712(0x1e9)](_0x50ea0b){const _0xcd0f7c=_0x4ed712;if(_[_0xcd0f7c(0x219)](_0x50ea0b))return new Item();let _0x161be6=JSON[_0xcd0f7c(0x11b)](_0x50ea0b),_0x1f9cec=new Item();return _0x1f9cec['nextMarker']=typeof _0x161be6[_0xcd0f7c(0x176)+'r']=='undefined'?'':_0x161be6[_0xcd0f7c(0x176)+'r'],_0x1f9cec[_0xcd0f7c(0x1e3)]=typeof _0x161be6['file_id']==_0xcd0f7c(0x218)?'':_0x161be6[_0xcd0f7c(0x226)],_0x1f9cec[_0xcd0f7c(0x184)]=typeof _0x161be6[_0xcd0f7c(0x166)]==_0xcd0f7c(0x218)?'':_0x161be6['share_id'],_0x1f9cec['name']=typeof _0x161be6[_0xcd0f7c(0x138)]==_0xcd0f7c(0x218)?'':_0x161be6[_0xcd0f7c(0x138)],_0x1f9cec[_0xcd0f7c(0x1a4)]=typeof _0x161be6[_0xcd0f7c(0x1a4)]==_0xcd0f7c(0x218)?'':_0x161be6[_0xcd0f7c(0x1a4)],_0x1f9cec[_0xcd0f7c(0x19d)+_0xcd0f7c(0x1b0)]=typeof _0x161be6[_0xcd0f7c(0x14a)+_0xcd0f7c(0x14b)]==_0xcd0f7c(0x218)?'':_0x161be6['file_exten'+_0xcd0f7c(0x14b)],_0x1f9cec[_0xcd0f7c(0x254)]=typeof _0x161be6[_0xcd0f7c(0x254)]==_0xcd0f7c(0x218)?'':_0x161be6['category'],_0x1f9cec[_0xcd0f7c(0x1de)]=typeof _0x161be6[_0xcd0f7c(0x1de)]==_0xcd0f7c(0x218)?'':_0x161be6[_0xcd0f7c(0x1de)],_0x1f9cec[_0xcd0f7c(0x17b)]=typeof _0x161be6[_0xcd0f7c(0x1b4)+_0xcd0f7c(0x24e)]==_0xcd0f7c(0x218)?'':_0x161be6['parent_fil'+_0xcd0f7c(0x24e)],typeof _0x161be6[_0xcd0f7c(0x18b)]!=_0xcd0f7c(0x218)&&Array['isArray'](_0x161be6['items'])&&!_[_0xcd0f7c(0x219)](_0x161be6['items'])&&_0x161be6[_0xcd0f7c(0x18b)][_0xcd0f7c(0x205)](function(_0x338272){const _0x43782c=_0xcd0f7c;let _0x38ea10=Item['objectFrom'](JSON['stringify'](_0x338272));_0x1f9cec[_0x43782c(0x18b)][_0x43782c(0x237)](_0x38ea10);}),_0x1f9cec;}[_0x4ed712(0x1d9)](){const _0x189e61=_0x4ed712;return _[_0x189e61(0x219)](this[_0x189e61(0x18b)])?[]:this[_0x189e61(0x18b)];}['getNextMar'+_0x4ed712(0x1b9)](){const _0x49d6bd=_0x4ed712;return _[_0x49d6bd(0x219)](this['nextMarker'])?'':this[_0x49d6bd(0x165)];}['getFileId'](){const _0x12446b=_0x4ed712;return _['isEmpty'](this[_0x12446b(0x1e3)])?'':this['fileId'];}[_0x4ed712(0x139)](){const _0x4cc6ae=_0x4ed712;return _[_0x4cc6ae(0x219)](this['name'])?'':this[_0x4cc6ae(0x138)];}[_0x4ed712(0x17a)](){const _0x3f1652=_0x4ed712;return _[_0x3f1652(0x219)](this[_0x3f1652(0x1a4)])?'':this[_0x3f1652(0x1a4)];}['getExt'](){const _0x535108=_0x4ed712;return _[_0x535108(0x219)](this['fileExtens'+'ion'])?'':this[_0x535108(0x19d)+'ion'];}['getCategor'+'y'](){const _0x184315=_0x4ed712;return _['isEmpty'](this[_0x184315(0x254)])?'':this[_0x184315(0x254)];}['getSize'](){const _0x296235=_0x4ed712;return this['size']==0x0?'':'['+_0x4c5aa8[_0x296235(0x247)](this['size'])+']';}[_0x4ed712(0x129)](){const _0x39d6a7=_0x4ed712;return _['isEmpty'](this[_0x39d6a7(0x17b)])?'':'['+this[_0x39d6a7(0x17b)]+']';}[_0x4ed712(0x117)](_0x35b76a){const _0x1ff4da=_0x4ed712;return this[_0x1ff4da(0x17b)]=_0x35b76a,this;}[_0x4ed712(0x14d)+_0x4ed712(0x23d)](){const _0x328a68=_0x4ed712;return this['getParent']()+'\x20'+this[_0x328a68(0x139)]()+'\x20'+this[_0x328a68(0x247)]();}}class Sub{constructor(){const _0xa07043=_0x4ed712;this[_0xa07043(0x238)]='',this['name']='',this[_0xa07043(0x170)]='',this[_0xa07043(0x1f7)]='';}static[_0x4ed712(0x1c8)](){return new Sub();}[_0x4ed712(0x123)](_0x14abea){const _0x31e63b=_0x4ed712;return this[_0x31e63b(0x138)]=_0x14abea,this;}[_0x4ed712(0x147)](_0x23bb4f){return this['url']=_0x23bb4f,this;}[_0x4ed712(0x24d)](_0x39b52c){const _0x274f8a=_0x4ed712;return this[_0x274f8a(0x170)]=_0x39b52c,this;}[_0x4ed712(0x256)](_0x3ad23b){return this['format']=_0x3ad23b,this;}['setExt'](_0x415d5e){const _0x165698=_0x4ed712;switch(_0x415d5e){case'vtt':return this[_0x165698(0x256)](_0x165698(0x236));case _0x165698(0x231):case _0x165698(0x18a):return this[_0x165698(0x256)](_0x165698(0x163));default:return this[_0x165698(0x256)](_0x165698(0x22e)+_0x165698(0x227));}}}class Share{constructor(){const _0x1e291b=_0x4ed712;this['time']=0x0,this['share_id']='',this[_0x1e291b(0x22f)+'n']='',this[_0x1e291b(0x17c)+'e']='',this['expires_in']='',this[_0x1e291b(0x213)]='',this[_0x1e291b(0x22a)+'me']='',this['creator_ph'+'one']='',this[_0x1e291b(0x189)]='',this[_0x1e291b(0x18d)]='',this[_0x1e291b(0x17e)]='',this['avatar']='',this[_0x1e291b(0x146)]='',this[_0x1e291b(0x153)+'me']='',this['share_titl'+'e']='',this[_0x1e291b(0x15e)]='';}static[_0x4ed712(0x1e9)](_0x1c696d){const _0x163f44=_0x4ed712;if(_[_0x163f44(0x219)](_0x1c696d))return new Share();let _0x540fb9=JSON[_0x163f44(0x11b)](_0x1c696d),_0x378f0e=new Share();return _0x378f0e['share_id']=typeof _0x540fb9[_0x163f44(0x166)]=='undefined'?'':_0x540fb9[_0x163f44(0x166)],_0x378f0e[_0x163f44(0x22f)+'n']=typeof _0x540fb9['share_toke'+'n']==_0x163f44(0x218)?'':_0x540fb9[_0x163f44(0x22f)+'n'],_0x378f0e[_0x163f44(0x17c)+'e']=typeof _0x540fb9[_0x163f44(0x17c)+'e']==_0x163f44(0x218)?'':_0x540fb9[_0x163f44(0x17c)+'e'],_0x378f0e['expires_in']=typeof _0x540fb9[_0x163f44(0x253)]==_0x163f44(0x218)?'':_0x540fb9[_0x163f44(0x253)],_0x378f0e[_0x163f44(0x213)]=typeof _0x540fb9[_0x163f44(0x213)]=='undefined'?'':_0x540fb9[_0x163f44(0x213)],_0x378f0e[_0x163f44(0x22a)+'me']=typeof _0x540fb9['creator_na'+'me']==_0x163f44(0x218)?'':_0x540fb9[_0x163f44(0x22a)+'me'],_0x378f0e[_0x163f44(0x20a)+_0x163f44(0x1a0)]=typeof _0x540fb9[_0x163f44(0x20a)+_0x163f44(0x1a0)]==_0x163f44(0x218)?'':_0x540fb9[_0x163f44(0x20a)+_0x163f44(0x1a0)],_0x378f0e[_0x163f44(0x189)]=typeof _0x540fb9[_0x163f44(0x189)]==_0x163f44(0x218)?'':_0x540fb9['expiration'],_0x378f0e[_0x163f44(0x18d)]=typeof _0x540fb9['updated_at']==_0x163f44(0x218)?'':_0x540fb9[_0x163f44(0x18d)],_0x378f0e[_0x163f44(0x17e)]=typeof _0x540fb9[_0x163f44(0x17e)]==_0x163f44(0x218)?'':_0x540fb9[_0x163f44(0x17e)],_0x378f0e[_0x163f44(0x13a)]=typeof _0x540fb9['avatar']==_0x163f44(0x218)?'':_0x540fb9[_0x163f44(0x13a)],_0x378f0e[_0x163f44(0x146)]=typeof _0x540fb9['share_name']=='undefined'?'':_0x540fb9[_0x163f44(0x146)],_0x378f0e['display_na'+'me']=typeof _0x540fb9['display_na'+'me']=='undefined'?'':_0x540fb9['display_na'+'me'],_0x378f0e['share_titl'+'e']=typeof _0x540fb9[_0x163f44(0x1fa)+'e']==_0x163f44(0x218)?'':_0x540fb9[_0x163f44(0x1fa)+'e'],_0x378f0e[_0x163f44(0x15e)]=typeof _0x540fb9[_0x163f44(0x15e)]=='undefined'?'':_0x540fb9[_0x163f44(0x15e)],_0x378f0e;}['getShareId'](){const _0x4dac63=_0x4ed712;return _[_0x4dac63(0x219)](this['share_id'])?'':this[_0x4dac63(0x166)];}[_0x4ed712(0x19b)+_0x4ed712(0x193)](){const _0x5d1521=_0x4ed712;return _[_0x5d1521(0x219)](this[_0x5d1521(0x22f)+'n'])?'':this[_0x5d1521(0x22f)+'n'];}[_0x4ed712(0x1a2)](){const _0x541957=_0x4ed712;return this[_0x541957(0x116)]=new Date()[_0x541957(0x1d2)]()+(this[_0x541957(0x253)]*0x3e8-0xa*0x3e8),this;}[_0x4ed712(0x11c)](_0x124377){return this['share_id']=_0x124377,this;}['alive'](_0x26643d){const _0x2feb97=_0x4ed712;let _0x1b22df=new Date()[_0x2feb97(0x1d2)]();return this[_0x2feb97(0x1e0)]()==_0x26643d&&_0x1b22df<=this['time'];}}const UA=_0x4ed712(0x1e6)+_0x4ed712(0x188)+'\x20CPU\x20iPhon'+_0x4ed712(0x142)+_0x4ed712(0x1d8)+_0x4ed712(0x214)+_0x4ed712(0x1b8)+'05.1.15\x20(K'+_0x4ed712(0x195)+_0x4ed712(0x1e4)+_0x4ed712(0x215)+'.3\x20Mobile/'+_0x4ed712(0x204)+_0x4ed712(0x156),CLIENT_ID=_0x4ed712(0x1f5)+_0x4ed712(0x133)+'a04f6084fb'+'2f';let tempIds=[],refreshToken='',share,oauth=new OAuth(),user=new User(),driveInfo={},log=_0x4c5aa8[_0x4ed712(0x19a)];async function getUserCache(){const _0x58781e=_0x4ed712;var _0x15d6e3=await local[_0x58781e(0x1d4)](_0x58781e(0x1fd),_0x58781e(0x1c6)+'e_user');return _0x15d6e3;}async function getOAuthCache(){const _0x17f13b=_0x4ed712;var _0x501465=await local[_0x17f13b(0x1d4)](_0x17f13b(0x1fd),_0x17f13b(0x1c6)+_0x17f13b(0x228));return _0x501465;}async function initSome(){const _0x46c1f2=_0x4ed712;tempIds=[];let _0x15e327=await getOAuthCache();await log(_0x46c1f2(0x249)+_0x46c1f2(0x13e)+_0x15e327),oauth=OAuth[_0x46c1f2(0x1e9)](_0x15e327),console['debug'](_0x46c1f2(0x249)+'--'),console[_0x46c1f2(0x140)](oauth);let _0x1b845f=await getUserCache();await log(_0x46c1f2(0x249)+_0x46c1f2(0x152)+_0x1b845f),user=User[_0x46c1f2(0x1e9)](_0x1b845f),console['debug']('initSome--'+'--'),console[_0x46c1f2(0x140)](user);}function setRefreshToken(_0x7438e){refreshToken=_0x7438e;}function getToken(){const _0x1d60cc=_0x4ed712;return user[_0x1d60cc(0x202)+_0x1d60cc(0x1ec)]();}function getHeader(){const _0x1162a2=_0x4ed712;var _0x339632={};return _0x339632['User-Agent']=UA,_0x339632[_0x1162a2(0x14c)]=_0x1162a2(0x19e)+'w.aliyundr'+'ive.com/',_0x339632;}function getHeaderAuth(){const _0x43296e=_0x4ed712;var _0x1f0c05={};_0x1f0c05[_0x43296e(0x186)+_0x43296e(0x193)]=share['getShareTo'+_0x43296e(0x193)](),_0x1f0c05['X-Canary']=_0x43296e(0x196)+_0x43296e(0x17f)+'drive,vers'+_0x43296e(0x1e7);if(user[_0x43296e(0x135)]())_0x1f0c05[_0x43296e(0x1df)+_0x43296e(0x1b0)]=user[_0x43296e(0x177)+_0x43296e(0x1ba)]();return _0x1f0c05;}function getHeaderShare(){const _0x5c56ea=_0x4ed712;var _0x376886=getHeader();return _0x376886[_0x5c56ea(0x186)+_0x5c56ea(0x193)]=share[_0x5c56ea(0x19b)+_0x5c56ea(0x193)](),_0x376886[_0x5c56ea(0x183)]=_0x5c56ea(0x196)+_0x5c56ea(0x17f)+'drive,vers'+'ion=v4.3.1',_0x376886;}function getHeaderOpen(){const _0x2e09aa=_0x4ed712;var _0xa778fd={};return console[_0x2e09aa(0x140)]('getHeaderO'+_0x2e09aa(0x15c)),console[_0x2e09aa(0x140)](oauth),_0xa778fd[_0x2e09aa(0x1df)+'ion']=oauth[_0x2e09aa(0x177)+_0x2e09aa(0x1ba)](),_0xa778fd;}function _0x5237(){const _0xf1d90f=['shareId','],\x22resourc','x-share-to','\x22{{data.dr','0\x20(iPhone;','expiration','ssa','items','oauthReque','updated_at','constructo','rite&state','rn\x20this\x22)(','14400','\x22:[{\x22body\x22','ken','rive.com/o','HTML,\x20like','client=And','live_trans','plication/','file/list_','log','getShareTo','essToken--','fileExtens','https://ww','https://au','one','removeExt','setTime','nction()\x20','type','uri=https:','data','oauthFunc-','estamp','subt','3426LwiGDx','\x22:\x22{{data.','getCategor','bind','splice','copy---','ion','scope=user','info','expires_ti','parent_fil','file_infos',',\x22headers\x22','i.aliyundr','leWebKit/6','ker','zation','{\x22requests','eviewPlayI','\x22headers\x22:','st---','userId','v2/share_l','method','etDownload','-Type\x22:\x22ap','folder','ile/copy\x22}','aliyundriv','https','create','indexOf','vtt','ive.com/','code','root\x22,\x22to_','responses','token_type','toString','rive.com/a','getTime','en.aliyund','get','https://op','8daQLzM','rive_id','3\x20like\x20Mac','getItems','son\x22},\x22id\x22','code=','rive.com/v','exception','size','authorizat','getShareId','getFileId','title_task','fileId','\x20Gecko)\x20Ve','language','Mozilla/5.','ion=v4.3.1','stringify','objectFrom','阿里云盘','hasOwnProp','Token','getExt','ve_id','viewPlayIn','order_by','erty','batch','getDriveId','file:all:w','76917ccccd','getUserId','format','http','ctor(\x22retu','share_titl','user-','fileId}}\x22,','ali','th-string','grant_type','ction','dUrl---','getRefresh','drive_id\x22:','15E148\x20Saf','forEach','__proto__','title','refreshAcc','\x22,\x22file_id','creator_ph','e\x22:\x22file\x22}','259884ChWOaq','default_dr','to_parent_','startsWith','length','share_pwd',':\x22{{data.s','creator_id','\x20OS\x20X)\x20App','rsion/13.0','ll:write','48uRxhaz','undefined','isEmpty','adrive/v2/',':base,file','-body--','toLowerCas','lication/j','user_id','elete\x22}],\x22','nfo===','mestamp','content','-result--','driveId','file_id','n/x-subrip','e_oauth','message','creator_na','10vJcdqe','getVideoPr','ult','applicatio','share_toke','isExpired','ass','12qUqTRf','alist--oau','setRefresh','by_share','text/vtt','push','url','getRedirec','\x22file\x22}','video',',\x22url\x22:\x22/f','Name','expiresIn','ForbiddenN','drive_id','e_user','token','scope','redirectUr','$$$','/authorize','getSize','p/alist/al','initSome--','refreshTok','join','save','setLang','e_id','ive_id','d\x22:\x22{{data','getAccessT','tUri','expires_in','category','curDriveIn','setFormat','getDownloa','clean','https://ap','marker','iew_play_i','order_dire','template_i','user:base,','-res-1-','share_link','fileId}}\x22}','time','parentFunc','refresh_to','_list','deleteOne-','parse','setShareId','me\x22:true,\x22','trim','auth/users','headers','coding_sub','coding','setName','isSub','console','5nocOFh','?client_id','oken','getParent','4475783XFwXGg','//alist.nn','/callback&','return\x20(fu','video_prev',':{\x22drive_i','trace','alive','url_expire','4441c39457','ink/get_sh','isAuthed','ream','status','name','getName','avatar','352693AJSAvn','----refres','etVideoPre','--oauth-','split','debug','setExt','e\x20OS\x2013_2_','getTokenTy','_by_anonym','@@@','share_name','setUrl','ous','{}.constru','file_exten','sion','Referer','getDisplay','882452CVHBkO','getNextMar','&redirect_','Too\x20Many\x20R','--user-','display_na','\x22auto_rena','accessToke','ari/604.1','resource_d','n/json','ion_code','user/getDr','k_list','pen---','body','has_pwd','warn','openFile/g','limit','backup_dri','text/x-ssa','coding_tas','nextMarker','share_id','expiresTim','tokenType','drive/v1.0','i_open/','Content-Ty','iveId}}\x22},','/get_share','set','8213VqTgEF','lang',':{\x22Content','ead,file:a','--result','copy---res','191772sqbtww','next_marke','getAuthori','resource\x22:','unc----','getType','parent','expire_tim','unshift','vip','roid,app=a','\x22method\x22:\x22','access_tok','49VJePzo','X-Canary'];_0x5237=function(){return _0xf1d90f;};return _0x5237();}async function alist(_0x50b1e1,_0x446674){const _0x30de98=_0x4ed712;let _0x2253c5=_0x30de98(0x259)+'i.xhofe.to'+_0x30de98(0x248)+_0x30de98(0x16a)+_0x50b1e1,_0x21417e=await postJson(_0x2253c5,_0x446674,getHeader()),_0xf0d447=_0x21417e['content'];console[_0x30de98(0x140)]('alist---'+_0x50b1e1),console[_0x30de98(0x140)](_0xf0d447);if(await isManyRequest(_0xf0d447))return![];return oauth=await OAuth['objectFrom'](_0xf0d447)['save'](),console[_0x30de98(0x140)](_0x30de98(0x233)+'th-'),console['debug'](oauth),console[_0x30de98(0x140)](_0x30de98(0x233)+_0x30de98(0x1fe)),console['debug'](oauth['toString']()),!![];}async function getString(_0x2bb873){let _0x35435a=await req(_0x2bb873,{});return _0x35435a['content'];}async function postJson(_0x3ce624,_0x2bf532,_0x55472a){const _0x327077=_0x4ed712;_0x55472a[_0x327077(0x16b)+'pe']=_0x327077(0x22e)+_0x327077(0x158);const _0x205508={};_0x205508[_0x327077(0x120)]=_0x55472a,_0x205508[_0x327077(0x1c1)]='post',_0x205508[_0x327077(0x1a6)]=_0x2bf532;let _0x4d9e9a=await req(_0x3ce624,_0x205508);return _0x4d9e9a;}async function post(_0x31a91e,_0x3ab2e7){const _0x288813=_0x4ed712;_0x31a91e=_0x31a91e[_0x288813(0x20f)]('https')?_0x31a91e:_0x288813(0x259)+_0x288813(0x1b7)+_0x288813(0x1cb)+_0x31a91e;let _0x4e1ea5=await postJson(_0x31a91e,_0x3ab2e7,getHeader());return _0x4e1ea5[_0x288813(0x223)];}async function auth(_0x3b8c1a,_0xb7f902){const _0x5b4713=_0x4ed712;if(!user[_0x5b4713(0x135)]()||user[_0x5b4713(0x230)]())await refreshAccessToken();_0x3b8c1a=_0x3b8c1a[_0x5b4713(0x20f)]('https')?_0x3b8c1a:_0x5b4713(0x259)+_0x5b4713(0x1b7)+_0x5b4713(0x1cb)+_0x3b8c1a;let _0x4352a4=await postJson(_0x3b8c1a,_0xb7f902,getHeaderAuth());return await log('auth--res-'+'-'+_0x4352a4['content']),_0x4352a4[_0x5b4713(0x223)];}async function shareFunc(_0x44a2ef,_0x86e7f4){const _0x558537=_0x4ed712;_0x44a2ef=_0x44a2ef[_0x558537(0x20f)](_0x558537(0x1c7))?_0x44a2ef:_0x558537(0x259)+'i.aliyundr'+_0x558537(0x1cb)+_0x44a2ef;let _0x3f136b=getHeaderShare(),_0x483275=await postJson(_0x44a2ef,_0x86e7f4,_0x3f136b);return console[_0x558537(0x140)]('----shareF'+_0x558537(0x179)+_0x44a2ef),console['debug'](_0x3f136b),console[_0x558537(0x140)](_0x86e7f4),console[_0x558537(0x140)](_0x483275),_0x483275[_0x558537(0x223)];}async function oauthFunc(_0x3dc85c,_0xd04a55){const _0x43b779=_0x4ed712;if(!oauth[_0x43b779(0x135)]()||oauth['isExpired']())await refreshOpenToken();_0x3dc85c=_0x3dc85c[_0x43b779(0x20f)](_0x43b779(0x1c7))?_0x3dc85c:_0x43b779(0x1d5)+_0x43b779(0x1d3)+_0x43b779(0x1d1)+_0x43b779(0x169)+'/'+_0x3dc85c;let _0x39e32c=await postJson(_0x3dc85c,_0xd04a55,getHeaderOpen());return await log(_0x43b779(0x1a7)+_0x43b779(0x113)+_0x3dc85c),await log(_0x43b779(0x1a7)+_0x43b779(0x113)+JSON[_0x43b779(0x1e8)](_0x39e32c)),_0x39e32c[_0x43b779(0x223)];}async function isManyRequest(_0x316aca){const _0x578c8d=_0x4ed712;if(!(_0x316aca[_0x578c8d(0x1c9)](_0x578c8d(0x151)+'equests')>-0x1))return![];return await oauth[_0x578c8d(0x258)]()[_0x578c8d(0x24c)](),!![];}async function refreshShareToken(_0x3f1e17){const _0x159573=_0x4ed712;try{if(share!=null&&share[_0x159573(0x131)](_0x3f1e17))return;let _0x2a7599={};_0x2a7599['share_id']=_0x3f1e17,_0x2a7599[_0x159573(0x211)]='';let _0x24620e=await post(_0x159573(0x1c0)+_0x159573(0x134)+'are_token',_0x2a7599);console[_0x159573(0x140)]('----refres'+'hShareToke'+'n---json--'+'--'),console[_0x159573(0x140)](_0x24620e),share=Share[_0x159573(0x1e9)](_0x24620e)[_0x159573(0x11c)](_0x3f1e17)[_0x159573(0x1a2)](),console['debug'](_0x159573(0x13c)+'hShareToke'+'n---share-'+'---'),console[_0x159573(0x140)](share);}catch(_0x801dc6){console[_0x159573(0x140)](_0x801dc6);}}async function refreshAccessToken(){const _0x5a5899=_0x4ed712;try{let _0x3803fb={},_0x2cfd44=user['getRefresh'+_0x5a5899(0x1ec)]();_[_0x5a5899(0x219)](_0x2cfd44)&&(_0x2cfd44=refreshToken);_0x2cfd44[_0x5a5899(0x20f)](_0x5a5899(0x1f8))&&(_0x2cfd44=await getString(_0x2cfd44),_0x2cfd44=_0x2cfd44[_0x5a5899(0x11e)]());_0x3803fb[_0x5a5899(0x118)+'ken']=_0x2cfd44,_0x3803fb[_0x5a5899(0x1ff)]=_0x5a5899(0x118)+_0x5a5899(0x193),await log(_0x5a5899(0x208)+_0x5a5899(0x19c)+_0x5a5899(0x21c)+JSON[_0x5a5899(0x1e8)](_0x3803fb));let _0x256593=await post(_0x5a5899(0x19f)+'th.aliyund'+_0x5a5899(0x1dc)+'2/account/'+_0x5a5899(0x242),_0x3803fb);await log('refreshAcc'+_0x5a5899(0x19c)+_0x5a5899(0x224)+_0x256593),user=await User[_0x5a5899(0x1e9)](_0x256593)[_0x5a5899(0x24c)](),await log(_0x5a5899(0x208)+_0x5a5899(0x19c)+_0x5a5899(0x1fb)+user[_0x5a5899(0x1d0)]());if(_[_0x5a5899(0x219)](user[_0x5a5899(0x251)+_0x5a5899(0x128)]()))throw new Error(_0x256593);return!![];}catch(_0x27277e){return await log('refreshAcc'+_0x5a5899(0x19c)+'-error-'+_0x27277e[_0x5a5899(0x229)]),console['debug'](_0x27277e),await user[_0x5a5899(0x258)]()[_0x5a5899(0x24c)](),!![];}}async function oauthRequest(){const _0x1463af=_0x4ed712;try{let _0x16da0b={};_0x16da0b['authorize']=0x1,_0x16da0b[_0x1463af(0x243)]=_0x1463af(0x112)+'file:all:r'+_0x1463af(0x172)+_0x1463af(0x216);let _0x381650=_0x1463af(0x1d5)+_0x1463af(0x1d3)+_0x1463af(0x194)+_0x1463af(0x11f)+_0x1463af(0x246)+_0x1463af(0x127)+'='+CLIENT_ID+(_0x1463af(0x150)+_0x1463af(0x1a5)+_0x1463af(0x12b)+'.ci/tool/a'+'liyundrive'+_0x1463af(0x12c)+_0x1463af(0x1b1)+_0x1463af(0x21b)+':all:read,'+_0x1463af(0x1f4)+_0x1463af(0x18f)+'='),_0x5bfeb4=await auth(_0x381650,_0x16da0b);return await log(_0x1463af(0x18c)+_0x1463af(0x1be)+_0x5bfeb4),console['debug'](_0x1463af(0x18c)+_0x1463af(0x1be)),console[_0x1463af(0x140)](_0x5bfeb4),await oauthRedirect(Code[_0x1463af(0x1e9)](_0x5bfeb4)['getCode']());}catch(_0x44045f){return console[_0x1463af(0x140)](_0x44045f),![];}}async function oauthRedirect(_0x96d472){const _0xf84a88=_0x4ed712;try{let _0x535fa3={};return _0x535fa3[_0xf84a88(0x1cc)]=_0x96d472,_0x535fa3[_0xf84a88(0x1ff)]=_0xf84a88(0x1df)+_0xf84a88(0x159),await alist(_0xf84a88(0x1cc),_0x535fa3);}catch(_0x5983f9){return console[_0xf84a88(0x140)](_0x5983f9),await oauth[_0xf84a88(0x258)]()[_0xf84a88(0x24c)](),![];}}async function refreshOpenToken(){const _0x489259=_0x4ed712;try{if(_['isEmpty'](oauth[_0x489259(0x202)+_0x489259(0x1ec)]()))return await oauthRequest();let _0x2693ef={};return _0x2693ef[_0x489259(0x1ff)]=_0x489259(0x118)+_0x489259(0x193),_0x2693ef[_0x489259(0x118)+_0x489259(0x193)]=oauth[_0x489259(0x202)+_0x489259(0x1ec)](),await alist(_0x489259(0x242),_0x2693ef);}catch(_0x3a6cc8){return console[_0x489259(0x140)](_0x3a6cc8),oauth[_0x489259(0x258)]()[_0x489259(0x24c)](),![];}}async function getVod(_0x4d5fde,_0x38615b,_0x1a45bb){const _0x50a290=_0x4ed712;await refreshShareToken(_0x4d5fde);let _0x244f5a={};_0x244f5a[_0x50a290(0x166)]=_0x4d5fde;let _0x5d45c9=await post('adrive/v3/'+_0x50a290(0x114)+_0x50a290(0x16d)+_0x50a290(0x144)+_0x50a290(0x148),_0x244f5a),_0x48477e=JSON['parse'](_0x5d45c9),_0xcdc946=[],_0x26a3af=[],_0x84d344=getParentFileId(_0x1a45bb,_0x48477e),_0x5683b5=new Item(_0x84d344);await listFiles(_0x4d5fde,_0x5683b5,_0xcdc946,_0x26a3af);let _0x68aa77=['原画','普画'],_0x14c7f5=[],_0x94352c=[];for(var _0x3a5abb of _0xcdc946)_0x14c7f5[_0x50a290(0x237)](_0x3a5abb[_0x50a290(0x14d)+_0x50a290(0x23d)]()+'$'+_0x4d5fde+'+'+_0x3a5abb[_0x50a290(0x1e1)]()+findSubs(_0x3a5abb['getName'](),_0x26a3af));for(var _0x4c89fa=0x0;_0x4c89fa<_0x68aa77[_0x50a290(0x210)];_0x4c89fa++)_0x94352c[_0x50a290(0x237)](_0x14c7f5[_0x50a290(0x24b)]('#'));let _0x3b34f5={'vod_id':_0x38615b,'vod_content':_0x38615b,'vod_pic':_0x48477e[_0x50a290(0x13a)],'vod_name':_0x48477e['share_name'],'vod_play_url':_0x94352c['join'](_0x50a290(0x245)),'vod_play_from':_0x68aa77[_0x50a290(0x24b)](_0x50a290(0x245)),'type_name':_0x50a290(0x1ea),'vod_year':'','vod_area':'','vod_remarks':'','vod_actor':'','vod_director':''};return _0x3b34f5;}async function listFiles(_0x27ca49,_0x1d3c4b,_0x46c77d,_0x1d2ecd){return await listFilesMarker(_0x27ca49,_0x1d3c4b,_0x46c77d,_0x1d2ecd,'');}async function listFilesMarker(_0x48b929,_0x433a86,_0x3e04f9,_0x3ba139,_0x1ea3b2){const _0x33b638=_0x4ed712;let _0x2d4ead={},_0x49c587=[];_0x2d4ead[_0x33b638(0x161)]=0xc8,_0x2d4ead[_0x33b638(0x166)]=_0x48b929,_0x2d4ead[_0x33b638(0x1b4)+_0x33b638(0x24e)]=_0x433a86[_0x33b638(0x1e1)](),_0x2d4ead[_0x33b638(0x1f0)]=_0x33b638(0x138),_0x2d4ead[_0x33b638(0x25c)+_0x33b638(0x200)]='ASC';if(_0x1ea3b2[_0x33b638(0x210)]>0x0)_0x2d4ead[_0x33b638(0x25a)]=_0x1ea3b2;let _0x482c6c=Item[_0x33b638(0x1e9)](await shareFunc(_0x33b638(0x21a)+_0x33b638(0x199)+_0x33b638(0x235),_0x2d4ead));for(var _0x50f7db of _0x482c6c[_0x33b638(0x1d9)]()){if(_0x50f7db[_0x33b638(0x17a)]()==_0x33b638(0x1c4))_0x49c587[_0x33b638(0x237)](_0x50f7db);else{if(_0x50f7db[_0x33b638(0x1ac)+'y']()==_0x33b638(0x23b)||_0x50f7db['getCategor'+'y']()=='audio')_0x3e04f9[_0x33b638(0x237)](_0x50f7db[_0x33b638(0x117)](_0x433a86[_0x33b638(0x139)]()));else _0x4c5aa8[_0x33b638(0x124)](_0x50f7db[_0x33b638(0x1ed)]())&&_0x3ba139[_0x33b638(0x237)](_0x50f7db);}}_0x482c6c['getNextMar'+'ker']()['length']>0x0&&await listFilesMarker(_0x48b929,_0x433a86,_0x3e04f9,_0x3ba139,_0x482c6c[_0x33b638(0x14f)+_0x33b638(0x1b9)]());for(var _0x204a2f of _0x49c587){await listFiles(_0x48b929,_0x204a2f,_0x3e04f9,_0x3ba139);}}function getParentFileId(_0x5039bb,_0x2981cb){const _0xdefb28=_0x4ed712;let _0x293999=_0x2981cb[_0xdefb28(0x1b5)];if(!_[_0xdefb28(0x219)](_0x5039bb))return _0x5039bb;if(_0x293999['length']==0x0)return'';let _0x1786aa=_0x293999[0x0];return _0x1786aa[_0xdefb28(0x1a4)]=='folder'?_0x1786aa['file_id']:'root';}function pair(_0x1a3f19,_0x4fe023,_0x2cfc41){const _0x51ab5d=_0x4ed712;for(var _0x1cb168 of _0x4fe023){var _0x49b2e6=_0x4c5aa8['removeExt'](_0x1cb168[_0x51ab5d(0x139)]())[_0x51ab5d(0x21d)+'e']();if(_0x1a3f19['indexOf'](_0x49b2e6)>-0x1||_0x49b2e6[_0x51ab5d(0x1c9)](_0x1a3f19)>-0x1)_0x2cfc41['push'](_0x1cb168);}}function _0x5476(_0x203536,_0x529a4e){const _0x752507=_0x5237();return _0x5476=function(_0x31fc30,_0x283db0){_0x31fc30=_0x31fc30-0x112;let _0x162ffd=_0x752507[_0x31fc30];return _0x162ffd;},_0x5476(_0x203536,_0x529a4e);}function findSubs(_0x5c5689,_0x56ce06){const _0x57153b=_0x4ed712;let _0x4de669=[];pair(_0x4c5aa8[_0x57153b(0x1a1)](_0x5c5689)[_0x57153b(0x21d)+'e'](),_0x56ce06,_0x4de669);if(_0x4de669['length']==0x0)for(var _0xc3c4eb of _0x56ce06){_0x4de669[_0x57153b(0x237)](_0xc3c4eb);}let _0xf9f87='';for(var _0x3d9446 of _0x4de669){_0xf9f87+='+'+_0x4c5aa8['removeExt'](_0x3d9446[_0x57153b(0x139)]())+_0x57153b(0x145)+_0x3d9446[_0x57153b(0x1ed)]()+'@@@'+_0x3d9446['getFileId']();}return _0xf9f87;}async function getSubs(_0x3ee99e){const _0x4550a2=_0x4ed712;let _0x3d67e5=[];for(var _0x525015 of _0x3ee99e){if(!(_0x525015[_0x4550a2(0x1c9)](_0x4550a2(0x145))>-0x1))continue;let _0x461ce0=_0x525015[_0x4550a2(0x13f)](_0x4550a2(0x145)),_0x51a4e5=_0x461ce0[0x0],_0x4946f5=_0x461ce0[0x1],_0x392233=_0x461ce0[0x2],_0xc1910=await getDownloadUrl(_0x3ee99e[0x0],_0x392233);_0x3d67e5['push'](Sub['create']()['setName'](_0x51a4e5)[_0x4550a2(0x141)](_0x4946f5)[_0x4550a2(0x147)](_0xc1910));}return _0x3d67e5;}async function getDriveInfo(){const _0x29a161=_0x4ed712;if(!_[_0x29a161(0x219)](driveInfo)&&!_[_0x29a161(0x219)](driveInfo[_0x29a161(0x20d)+_0x29a161(0x24f)]))return driveInfo;let _0x46cff8=await oauthFunc(_0x29a161(0x15a)+'iveInfo',{}),_0x4eca55=JSON[_0x29a161(0x11b)](_0x46cff8);const _0x3eca30={};return _0x3eca30[_0x29a161(0x20d)+_0x29a161(0x24f)]=_0x4eca55[_0x29a161(0x20d)+_0x29a161(0x24f)],_0x3eca30[_0x29a161(0x157)+_0x29a161(0x1d7)]=_0x4eca55[_0x29a161(0x157)+_0x29a161(0x1d7)],_0x3eca30[_0x29a161(0x162)+_0x29a161(0x1ee)]=_0x4eca55['backup_dri'+'ve_id'],driveInfo=_0x3eca30,driveInfo;}async function getDriveId(){const _0x2905ab=_0x4ed712;let _0x1e96bf=await getDriveInfo();console[_0x2905ab(0x140)](_0x2905ab(0x255)+'fo---'),console[_0x2905ab(0x140)](_0x1e96bf);if(!_[_0x2905ab(0x219)](_0x1e96bf[_0x2905ab(0x157)+'rive_id']))return _0x1e96bf[_0x2905ab(0x157)+_0x2905ab(0x1d7)];return _0x1e96bf[_0x2905ab(0x20d)+_0x2905ab(0x24f)];}async function getDownloadUrl(_0x4c108c,_0x125f31){const _0x5a79f9=_0x4ed712;await refreshShareToken(_0x4c108c);let _0x552167=await getDriveId();console[_0x5a79f9(0x140)](_0x5a79f9(0x257)+'dUrl--file'+'Id-'),console[_0x5a79f9(0x140)](_0x125f31),tempIds['unshift'](await copy(_0x4c108c,_0x125f31));let _0x3239b3={};_0x3239b3[_0x5a79f9(0x226)]=tempIds[0x0],_0x3239b3[_0x5a79f9(0x240)]=_0x552167;let _0x32fc24=await oauthFunc(_0x5a79f9(0x160)+_0x5a79f9(0x1c2)+'Url',_0x3239b3);return console['debug'](_0x5a79f9(0x257)+_0x5a79f9(0x201)),console[_0x5a79f9(0x140)](_0x32fc24),await log(_0x5a79f9(0x257)+_0x5a79f9(0x201)+_0x32fc24),await deleteAll(),JSON['parse'](_0x32fc24)[_0x5a79f9(0x238)];}async function getVideoPreviewPlayInfo(_0x2cc9c7,_0x3d796c){const _0x36fcf3=_0x4ed712;await refreshShareToken(_0x2cc9c7);let _0x194405=await getDriveId();tempIds[_0x36fcf3(0x17d)](await copy(_0x2cc9c7,_0x3d796c));let _0x3b71cd={};_0x3b71cd[_0x36fcf3(0x226)]=tempIds[0x0],_0x3b71cd[_0x36fcf3(0x240)]=_0x194405,_0x3b71cd[_0x36fcf3(0x254)]=_0x36fcf3(0x197)+_0x36fcf3(0x122),_0x3b71cd[_0x36fcf3(0x132)+'_sec']=_0x36fcf3(0x191);let _0x49c349=await oauthFunc(_0x36fcf3(0x160)+_0x36fcf3(0x13d)+_0x36fcf3(0x1ef)+'fo',_0x3b71cd);return console[_0x36fcf3(0x140)](_0x36fcf3(0x22c)+_0x36fcf3(0x1bc)+_0x36fcf3(0x221)),console['debug'](_0x49c349),await deleteAll(),JSON[_0x36fcf3(0x11b)](_0x49c349)[_0x36fcf3(0x12e)+_0x36fcf3(0x25b)+'nfo'];}async function playerContent(_0x2f225a){const _0x229ac1=_0x4ed712;try{let _0x3bd039=await getDownloadUrl(_0x2f225a[0x0],_0x2f225a[0x1]),_0x4d4285=await getSubs(_0x2f225a),_0x307480=[];for(var _0x3efb16 of _0x4d4285){const _0x159337={};_0x159337[_0x229ac1(0x238)]=_0x3efb16['url'],_0x159337[_0x229ac1(0x170)]=_0x3efb16[_0x229ac1(0x170)],_0x159337[_0x229ac1(0x207)]=_0x3efb16[_0x229ac1(0x138)],_0x307480[_0x229ac1(0x237)](_0x159337);}const _0x51f7b6={};return _0x51f7b6['subt']=_0x307480,JSON[_0x229ac1(0x1e8)]({'parse':0x0,'url':_0x3bd039,'header':getHeader(),'extra':_0x51f7b6,'format':'applicatio'+'n/octet-st'+_0x229ac1(0x136),'subs':_0x4d4285});}catch(_0x55ac0d){console['debug'](_0x55ac0d);}}async function playerContentByFlag(_0x17ca72,_0x394ac9){const _0xbc4843=_0x4ed712;try{let _0x1b2c12=await getVideoPreviewPlayInfo(_0x17ca72[0x0],_0x17ca72[0x1]),_0x3ee92c=getPreviewUrl(_0x1b2c12,_0x394ac9),_0x328ed8=await getSubs(_0x17ca72),_0x4d4694=getSubsByPlayInfo(_0x1b2c12);for(var _0x1964a8 of _0x4d4694){_0x328ed8['push'](_0x1964a8);}let _0x34e758=[];for(var _0x2ed26b of _0x328ed8){const _0xe7658f={};_0xe7658f['url']=_0x2ed26b[_0xbc4843(0x238)],_0xe7658f['lang']=_0x2ed26b[_0xbc4843(0x170)],_0xe7658f[_0xbc4843(0x207)]=_0x2ed26b[_0xbc4843(0x138)],_0x34e758[_0xbc4843(0x237)](_0xe7658f);}const _0x530e90={};return _0x530e90[_0xbc4843(0x1a9)]=_0x34e758,JSON[_0xbc4843(0x1e8)]({'parse':0x0,'url':_0x3ee92c,'header':getHeader(),'extra':_0x530e90,'format':_0xbc4843(0x22e)+'n/x-mpegUR'+'L','subs':_0x328ed8});}catch(_0x5f54c0){console[_0xbc4843(0x140)](_0x5f54c0);}}function getPreviewUrl(_0x3b99f2,_0x468568){const _0x16ad60=_0x4ed712;if(!_0x3b99f2[_0x16ad60(0x1eb)+_0x16ad60(0x1f1)](_0x16ad60(0x197)+_0x16ad60(0x164)+_0x16ad60(0x15b)))return'';let _0x2133b8=_0x3b99f2[_0x16ad60(0x197)+_0x16ad60(0x164)+_0x16ad60(0x15b)],_0x2296fd=[];for(var _0x27c8df=0x0;_0x27c8df<_0x2133b8[_0x16ad60(0x210)];++_0x27c8df){let _0x3ed9e2=_0x2133b8[_0x27c8df];_0x2296fd['push'](_0x3ed9e2[_0x16ad60(0x25d)+'d']),_0x2296fd[_0x16ad60(0x237)](_0x3ed9e2[_0x16ad60(0x238)]);}return _0x2296fd;}function getSubsByPlayInfo(_0x35cce2){const _0x2cddd4=_0x4ed712;if(!_0x35cce2[_0x2cddd4(0x1eb)+_0x2cddd4(0x1f1)](_0x2cddd4(0x197)+_0x2cddd4(0x121)+'title_task'+_0x2cddd4(0x119)))return[];let _0x30f740=_0x35cce2[_0x2cddd4(0x197)+'coding_sub'+_0x2cddd4(0x1e2)+_0x2cddd4(0x119)],_0xe9de31=[];for(var _0x39b3c7=0x0;_0x39b3c7<_0x30f740[_0x2cddd4(0x210)];++_0x39b3c7){let _0xfc4ad6=_0x30f740[_0x39b3c7],_0x25fabf=_0xfc4ad6[_0x2cddd4(0x1e5)],_0x357f81=_0xfc4ad6[_0x2cddd4(0x238)];_0xe9de31['push'](Sub[_0x2cddd4(0x1c8)]()[_0x2cddd4(0x147)](_0x357f81)[_0x2cddd4(0x123)](_0x25fabf)[_0x2cddd4(0x24d)](_0x25fabf)[_0x2cddd4(0x141)](_0x2cddd4(0x1ca)));}return _0xe9de31;}async function copy(_0xdebfb1,_0x34c7ba){const _0x4528be=_0x4ed712;await log('copy---use'+'r-'+user['toString']());let _0x187f15='{\x22requests'+_0x4528be(0x192)+':{\x22file_id'+_0x4528be(0x1ab)+_0x4528be(0x1fc)+'\x22share_id\x22'+_0x4528be(0x212)+'hareId}}\x22,'+_0x4528be(0x154)+_0x4528be(0x11d)+_0x4528be(0x20e)+'file_id\x22:\x22'+_0x4528be(0x1cd)+_0x4528be(0x203)+_0x4528be(0x187)+_0x4528be(0x16c)+_0x4528be(0x1bd)+'{\x22Content-'+'Type\x22:\x22app'+_0x4528be(0x21e)+_0x4528be(0x1da)+':\x220\x22,\x22meth'+'od\x22:\x22POST\x22'+_0x4528be(0x23c)+_0x4528be(0x1c5)+_0x4528be(0x185)+_0x4528be(0x20b),_0x545788=await getDriveId();const _0x46349c={};_0x46349c[_0x4528be(0x1e3)]=_0x34c7ba,_0x46349c[_0x4528be(0x184)]=_0xdebfb1,_0x46349c[_0x4528be(0x225)]=_0x545788;let _0x29cf74=_0x46349c;const _0x28b698={};_0x28b698[_0x4528be(0x1a6)]=_0x29cf74,_0x187f15=jinja2(_0x187f15,_0x28b698),await log(_0x4528be(0x1af)+_0x187f15);let _0x8d0640=await auth(_0x4528be(0x21a)+_0x4528be(0x1f2),JSON[_0x4528be(0x11b)](_0x187f15));await log(_0x4528be(0x174)+_0x4528be(0x22d)+_0x8d0640);if(_0x8d0640['indexOf'](_0x4528be(0x23f)+'oPermissio'+'n.File')>-0x1)return copy(_0xdebfb1,_0x34c7ba);return JSON['parse'](_0x8d0640)['responses'][0x0][_0x4528be(0x15d)][_0x4528be(0x226)];}function deleteAll(){const _0x544b79=_0x4ed712;let _0x357d5b=tempIds;_0x357d5b[_0x544b79(0x205)]((_0x444598,_0x410573)=>{const _0x1895a1=_0x544b79;let _0x370590=deleteOne(_0x444598);if(_0x370590){let _0x475434=tempIds[_0x1895a1(0x1c9)](_0x444598);_0x475434>=0x0&&tempIds[_0x1895a1(0x1ae)](_0x475434,0x1);}});}async function deleteOne(_0x4c6923){const _0x490c8d=_0x4ed712;await log(_0x490c8d(0x11a)+'--'+_0x4c6923);let _0x333972=_0x490c8d(0x1bb)+_0x490c8d(0x192)+_0x490c8d(0x12f)+_0x490c8d(0x250)+'.driveId}}'+_0x490c8d(0x209)+_0x490c8d(0x1ab)+_0x490c8d(0x115)+_0x490c8d(0x1b6)+_0x490c8d(0x171)+_0x490c8d(0x1c3)+_0x490c8d(0x198)+'json\x22},\x22id'+'\x22:\x22{{data.'+_0x490c8d(0x1fc)+_0x490c8d(0x180)+'POST\x22,\x22url'+'\x22:\x22/file/d'+_0x490c8d(0x220)+_0x490c8d(0x178)+_0x490c8d(0x23a),_0x2092be=await getDriveId();const _0xd182c9={};_0xd182c9[_0x490c8d(0x1e3)]=_0x4c6923,_0xd182c9[_0x490c8d(0x225)]=_0x2092be;let _0x45b62a=_0xd182c9;const _0x43a564={};_0x43a564['data']=_0x45b62a,_0x333972=jinja2(_0x333972,_0x43a564),await log('deleteOne-'+'--'+_0x333972);let _0x437e96=await auth(_0x490c8d(0x21a)+'batch',JSON[_0x490c8d(0x11b)](_0x333972));return await log('deleteOne-'+_0x490c8d(0x173)+_0x437e96),JSON[_0x490c8d(0x11b)](_0x437e96)[_0x490c8d(0x1ce)][0x0][_0x490c8d(0x137)]==0x194;}function setToken(_0x246e60){setRefreshToken(_0x246e60);}export{initSome,setToken,getVod,playerContent,playerContentByFlag};